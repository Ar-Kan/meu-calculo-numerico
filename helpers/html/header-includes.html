<script type="text/javascript">
  document.documentElement.setAttribute("lang", "pt-BR");
  document.documentElement.setAttribute("xml:lang", "pt-BR");
</script>

<script>
  window.MathJax = {
    loader: { load: ["[tex]/tagformat"] },
    options: {
      menuOptions: {
        settings: {
          explorer: true,
          assistiveMml: false
        }
      }
    },
    tex: {
      tags: "ams",
      packages: { "[+]": ["tagformat", "sections"] },
      tagformat: {
        number: (n) => {
          if (n === "") return "";
          // FIXME: The're still no answer for unnumbered chapters sections,
          //        for now, we should avoid putting equations there :P

          // NOTE: Get the chapter number element from the sidebar (the highlighted one),
          //       if found the numbering would be, for example, "0.1", "1.1", etc.
          const chapterNumber = document.querySelector(
            "#quarto-sidebar a.sidebar-link.active span.chapter-number"
          );
          // NOTE: Get the value, defaults to 0 if not found (unnumbered chapters)
          chapter = chapterNumber ? chapterNumber.textContent : 0;
          return `${chapter}.${n}`;
        },
      },
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"],
      ],
    },
  };
</script>
